{"version":3,"sources":["webpack:///D:/work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue?bbdb","webpack:///D:/work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue?7ee0","webpack:///D:/work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue?f64f","webpack:///D:/work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue?5bbf","webpack:///D:/work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue","webpack:///D:/work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue?815f","webpack:///D:/work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue?6ec2"],"names":["data","props","canvasFlag","type","Boolean","default","posterObj","url","icon","title","discountPrice","orignPrice","code","methods","roundRect","ctx","x","y","w","h","r","fillColor","strokeColor","btn","beginPath","arc","Math","PI","moveTo","lineTo","grd","createLinearGradient","addColorStop","setFillStyle","fill","setStrokeStyle","stroke","closePath","clip","canvasMultiLineText","text","contentWidth","lineNumber","textArray","split","temp","row","i","length","measureText","width","push","console","log","rowCut","slice","rowPart","test","empty","a","group","splice","createCanvasImage","uni","showLoading","_this","phoneData","getSystemInfoSync","phoneH","windowHeight","phoneW","windowWidth","scaleW","scaleH","createCanvasContext","zpPriceIcon","closeBtn","close","draw","save","restore","getImageInfo","src","success","res","path","drawImage","fail","err","setTimeout","setGlobalAlpha","setFontSize","font","contentTextY","leftSpace","textLineHeight","b","fillText","zpPrice","zpPriceW","orignPriceW","id","request","header","method","img","hideLoading","saveCanvasImage","canvasToTempFilePath","height","destWidth","destHeight","canvasId","saveImageToPhotosAlbum","filePath","tempFilePath","res2","showToast","duration","canvasCancelEvn","$emit"],"mappings":"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","file":"wxcomponents/hch-poster/hch-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hch-poster.vue?vue&type=template&id=3ba79648&\"\nvar renderjs\nimport script from \"./hch-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-poster.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3ba79648')) {\n      api.createRecord('3ba79648', component.options)\n    } else {\n      api.reload('3ba79648', component.options)\n    }\n    module.hot.accept(\"./hch-poster.vue?vue&type=template&id=3ba79648&\", function () {\n      api.rerender('3ba79648', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/熙美小程序/wxcomponents/hch-poster/hch-poster.vue\"\nexport default component.exports","export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=template&id=3ba79648&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\n\t\t}\n\t},\n\tprops: {\n\t\tcanvasFlag: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tposterObj: {\n\t\t\ttype: null,\n\t\t\tdefault: {\n\t\t\t\turl: '', //商品主图\n\t\t\t\ticon: '', //会员价图标\n\t\t\t\ttitle: \"\", //标题\n\t\t\t\tdiscountPrice: \"\", //折后价格\n\t\t\t\torignPrice: \"\", //原价\n\t\t\t\tcode: '', //小程序码\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t// 海报\n\t\t// 画圆角矩形 ctx、x起点、y起点、w宽度、h高度、r圆角半径、fillColor填充颜色、strokeColor边框颜色\n\t\troundRect(ctx, x, y, w, h, r, fillColor, strokeColor, btn) {\n\t\t\t// 开始绘制\n\t\t\tctx.beginPath()\n\t\t\t// 绘制左上角圆弧 Math.PI = 180度\n\t\t\t// 圆心x起点、圆心y起点、半径、以3点钟方向顺时针旋转后确认的起始弧度、以3点钟方向顺时针旋转后确认的终止弧度\n\t\t\tctx.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5)\n\t\t\t// 绘制border-top\n\t\t\t// 移动起点位置 x终点、y终点\n\t\t\tctx.moveTo(x + r, y)\n\t\t\t// 画一条线 x终点、y终点\n\t\t\tctx.lineTo(x + w - r, y)\n\t\t\t// 绘制右上角圆弧\n\t\t\tctx.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2)\n\t\t\t// 绘制border-right\n\t\t\tctx.lineTo(x + w, y + h - r)\n\t\t\t// 绘制右下角圆弧\n\n\t\t\tctx.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5)\n\n\t\t\t// 绘制左下角圆弧\n\n\t\t\tctx.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI)\n\n\t\t\t// 绘制border-left\n\t\t\tctx.lineTo(x, y + r)\n\t\t\tif (btn == 'btn') {\n\t\t\t\tconst grd = ctx.createLinearGradient(0, 0, 200, 0) //渐变色\n\t\t\t\tgrd.addColorStop(0, fillColor)\n\t\t\t\tgrd.addColorStop(1, strokeColor)\n\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\tctx.setFillStyle(grd)\n\t\t\t\t// 对绘画区域填充\n\t\t\t\tctx.fill()\n\t\t\t} else {\n\n\t\t\t\tif (fillColor) {\n\t\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\t\tctx.setFillStyle(fillColor)\n\t\t\t\t\t// 对绘画区域填充\n\t\t\t\t\tctx.fill()\n\t\t\t\t}\n\t\t\t\tif (strokeColor) {\n\t\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\t\tctx.setStrokeStyle(strokeColor)\n\t\t\t\t\t// 画出当前路径的边框\n\t\t\t\t\tctx.stroke()\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 关闭一个路径\n\t\t\tctx.closePath()\n\t\t\t// 剪切，剪切之后的绘画绘制剪切区域内进行，需要save与restore 这个很重要 不然没办法保存\n\t\t\tctx.clip()\n\t\t},\n\n\t\t/**\n\t\t * canvas绘图相关，把文字转化成只能行数，多余显示省略号\n\t\t * ctx: 当前的canvas\n\t\t * text: 文本\n\t\t * contentWidth: 文本最大宽度\n\t\t * lineNumber: 显示几行\n\t\t */\n\t\tcanvasMultiLineText(ctx, text, contentWidth, lineNumber) {\n\t\t\tvar textArray = text.split(\"\"); // 分割成字符串数组\n\t\t\tvar temp = \"\";\n\t\t\tvar row = [];\n\t\t\tfor (let i = 0; i < textArray.length; i++) {\n\t\t\t\tif (ctx.measureText(temp).width < contentWidth) {\n\t\t\t\t\ttemp += textArray[i];\n\t\t\t\t} else {\n\t\t\t\t\ti--; // 这里添加i--是为了防止字符丢失\n\t\t\t\t\trow.push(temp);\n\t\t\t\t\ttemp = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\trow.push(temp);\n\n\t\t\t// 如果数组长度大于2，则截取前两个\n\t\t\tif (row.length > lineNumber) {\n\t\t\t\tconsole.log(row.length,lineNumber)\n\t\t\t\tvar rowCut = row.slice(0, lineNumber);\n\t\t\t\tconsole.log(row);\n\t\t\t\tvar rowPart = row[0];\n\t\t\t\tconsole.log(rowPart)\n\t\t\t\tvar test = \"\";\n\t\t\t\tvar empty = [];\n\t\t\t\tfor (var a = 0; a < rowPart.length; a++) {\n\t\t\t\t\tif (ctx.measureText(test).width < contentWidth) {\n\t\t\t\t\t\ttest += rowPart[a];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tempty.push(test); // 处理后面加省略号\n\t\t\t\tvar group = empty[0] + '...'\n\t\t\t\trowCut.splice(lineNumber - 1, 1, group);\n\t\t\t\trow = rowCut;\n\t\t\t}\n\t\t\treturn row;\n\t\t},\n\t\t// 获取海报的小程序码 -->\n\n\n\n\t\t// 生成海报\n\t\tcreateCanvasImage() {\t\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '海报生成中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\tlet phoneData = uni.getSystemInfoSync();\n\t\t\tthis.phoneH = phoneData.windowHeight;\n\t\t\tthis.phoneW = phoneData.windowWidth;\n\t\t\tlet scaleW = this.phoneW / 375; //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tlet scaleH = this.phoneH / 667; //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tconst ctx = uni.createCanvasContext('myCanvas');\n\t\t\tlet url = this.posterObj.url; //商品主图\n\t\t\tconsole.log(this.posterObj)\n\t\t\tlet zpPriceIcon = this.posterObj.icon //图标\n\t\t\tlet code = this.posterObj.code\n\t\t\tlet closeBtn = this.posterObj.close\n\t\t\tctx.draw() //清空原来的画图内容\n\t\t\tctx.save();\n\t\t\tthis.roundRect(ctx, 50, 40, (this.phoneW - 100), (this.phoneH - 200), 10, '#fff', '#fff'); //绘制海报圆角背景白色的\n\t\t\tctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\tctx.save();\n\t\t\tthis.roundRect(ctx, 50, 40, (this.phoneW - 100), (340) * scaleH, 10, '#f7f7f7', '#f7f7f7'); //绘制海报圆角背景 上半截灰色的\n\t\t\tctx.restore();\n\t\t\turl = 'https' + url.slice(4, url.length);\n\t\t\t\n\t\t\t//将网络图片转成本地路径 商品图片\n\t\t\tuni.getImageInfo({\n\t\t\t\tsrc: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tctx.save();\n\t\t\t\t\tconsole.log(res.path, 1);\n\t\t\t\t\t_this.posterObj.url = res.path;\n\t\t\t\t\t_this.roundRect(ctx, (_this.phoneW - ((_this.phoneW - 130))) / 2, 55, (_this.phoneW - 130), 250 * scaleH, 10,\n\t\t\t\t\t\t'#f7f7f7', '#f7f7f7')\n\t\t\t\t\tctx.drawImage(_this.posterObj.url, (_this.phoneW - ((_this.phoneW - 130))) / 2, 55, (_this.phoneW - 130), 250 *\n\t\t\t\t\t\tscaleH, 10); //绘制图\n\t\t\t\t\tctx.restore();\n\t\t\t\t\tctx.draw(true)\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// 关闭按钮\n\t\t\t// uni.getImageInfo({\n\t\t\t// \tsrc: closeBtn,\n\t\t\t// \tsuccess(res) {\n\t\t\t// \t\tcloseBtn=res.path;\n\t\t\t// \t\tctx.drawImage(closeBtn, 50 + (_this.phoneW - 100) + 5, 40, 24, 24)\n\t\t\t// \t\tctx.draw(true)\n\t\t\t// \t},\n\t\t\t// \tfail(err) {\n\t\t\t// \t\t_this.canvasFlag = true;\n\t\t\t// \t\tconsole.log(err);\n\t\t\t// \t}\n\t\t\t// })\n\t\t\tctx.drawImage(closeBtn, 50 + (_this.phoneW - 100) + 5, 40, 24, 24)\n\t\t\tctx.draw(true)\n\t\t\t// 关闭按钮 end\n\t\t\t// 海报商品title\n\t\t\tsetTimeout(() => {\n\t\t\t\tctx.setGlobalAlpha(1) //不透明\n\t\t\t\tctx.setFillStyle('#1c1c1c') //文字颜色：默认黑色\n\t\t\t\tctx.setFontSize(14) //设置字体大小，默认10\n\t\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\t\tlet text = this.posterObj.title;\n\t\t\t\tlet row = this.canvasMultiLineText(ctx, text, (this.phoneW - 130), 1); //计算绘制的2行文本\n\t\t\t\tlet contentTextY = 350; // 这段文字起始的y位置\n\t\t\t\tlet leftSpace = 65; // 这段文字起始的X位置\n\t\t\t\tlet textLineHeight = 18; // 一行文字加一行行间距\n\t\t\t\tfor (let b = 0; b < row.length; b++) { //一行一行绘制文本\n\t\t\t\t\tctx.fillText(row[b], leftSpace, (contentTextY + textLineHeight * b - 15) * scaleH, (this.phoneW - 130));\n\t\t\t\t\tctx.draw(true)\n\t\t\t\t}\n\t\t\t}, 500)\n\t\t\t// 海报商品title end\n\n\t\t\t//绘制价格\n\t\t\tctx.setFontSize(12) //设置字体大小，默认10\n\t\t\tctx.setFillStyle('#c00000') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal 12px sans-serif';\n\t\t\tctx.fillText('￥', 60, 360 * scaleH, 60);\n\t\t\tctx.setFontSize(16) //设置字体大小，默认10\n\t\t\tconsole.log(this.posterObj.discountPrice);\n\t\t\tlet orignPrice;\n\t\t\tlet zpPrice\n\t\t\tif (this.posterObj.discountPrice == 0) {\n\t\t\t\torignPrice = this.posterObj.discountPrice; //会员价格\n\t\t\t\tzpPrice = this.posterObj.orignPrice; //市场价\t\n\t\t\t\tlet zpPriceW = ctx.measureText(zpPrice).width; //文本的宽度\n\t\t\t\tctx.fillText(zpPrice, 70, 360 * scaleH, zpPriceW);\n\t\t\t} else {\n\t\t\t\tzpPrice = this.posterObj.discountPrice; //会员价格\n\t\t\t\torignPrice = this.posterObj.orignPrice; //市场价\t\n\t\t\t\tlet zpPriceW = ctx.measureText(zpPrice).width; //文本的宽度\n\t\t\t\tctx.fillText(zpPrice, 70, 360 * scaleH, zpPriceW);\n\t\t\t\tctx.beginPath(); //开始一个新的路径\n\t\t\t\tctx.setFontSize(13) //设置字体大小，默认10\n\t\t\t\tctx.setFillStyle('#999') //文字颜色：默认黑色\n\t\t\t\tlet orignPriceW = ctx.measureText(orignPrice).width //去掉市场价\n\t\t\t\tctx.fillText(orignPrice, 70 + zpPriceW + 5, 360 * scaleH, orignPriceW); //5价格间距\n\t\t\t\tctx.moveTo(70 + zpPriceW + 5, 355 * scaleH); //设置线条的起始路径坐标\n\t\t\t\tctx.lineTo(70 + zpPriceW + 5 + orignPriceW, 355 * scaleH); //设置线条的终点路径坐标\n\t\t\t\tctx.setStrokeStyle('#999')\n\t\t\t\tctx.stroke(); //对当前路径进行描边\n\t\t\t\tctx.closePath(); //关闭当前路径\n\t\t\t}\n\t\t\t//绘制价格 end\n\t\t\tlet id = this.posterObj.id\n\t\t\tuni.request({\n\t\t\t\turl: \"https://dh.xmvogue.com/index.php/API/Index/sharecode\", //域名省略\t\n\t\t\t\theader: {\n\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\tpath: code, //想要生成小程序码的页面地址\n\t\t\t\t\tid: id\n\n\t\t\t\t},\n\t\t\t\tmethod: 'POST',\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tlet img = 'https' + res.data.slice(4, res.data.length) + \"?x-oss-process=style/300\";\n\t\t\t\t\tconsole.log(img)\n\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\tsrc: img,\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t_this.posterObj.code = res.path;\n\t\t\t\t\t\t\tctx.drawImage(_this.posterObj.code, (_this.phoneW - 80) / 2, 390 * scaleH, 80, 80)\n\t\t\t\t\t\t\t// ctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\t\t\t\t\tctx.draw(true)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(err) {\n\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t},\n\t\t\t\tfail: function(err) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t},\n\n\t\t\t})\n\n\n\t\t\t// 小程序码end\n\t\t\t// 小程序的名称\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#2f1709') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\t// ctx.fillText('小程序的名称', (_this.phoneW - 90) / 2, 530 * scaleH, 90);\n\t\t\t// 小程序的名称end\n\t\t\t// 长按/扫描识别查看商品\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#ff5f33') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal 14px sans-serif';\n\t\t\tctx.fillText('长按/扫描识别查看商品', (_this.phoneW - 140) / 2, 490 * scaleH, 140);\n\t\t\t// 长按/扫描识别查看商品end\n\t\t\t//绘制保存按钮\n\t\t\tctx.save();\n\t\t\tthis.roundRect(ctx,(this.phoneW-160)/2,(this.phoneH-140),160, 36,18,'#ff3600','#ff6a00','btn')\n\t\t\tctx.restore(); \n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#fff')//文字颜色：默认黑色\n\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\tctx.fillText('保存图片', (_this.phoneW-58)/2, (this.phoneH-118),58);\n\t\t\t//绘制保存按钮 end\n\t\t\tuni.hideLoading();\n\t\t},\n\n\t\t// 保存到系统相册\n\t\tsaveCanvasImage() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '保存中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\t// 1-把画布转化成临时文件\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: 50,\n\t\t\t\ty: 40,\n\t\t\t\twidth: (this.phoneW - 100), // 画布的宽\n\t\t\t\theight: (this.phoneH - 120), // 画布的高\n\t\t\t\tdestWidth: (this.phoneW - 100) * 5,\n\t\t\t\tdestHeight: (this.phoneH - 120) * 5,\n\t\t\t\tcanvasId: 'myCanvas',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\t// 2-保存图片至相册\n\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\tsuccess(res2) {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '图片保存成功!',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t_this.canvasCancelEvn();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(err) {\n\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// uni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '保存失败，稍后再试111',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 取消海报\n\t\tcanvasCancelEvn() {\n\t\t\tthis.$emit('cancel', true)\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}