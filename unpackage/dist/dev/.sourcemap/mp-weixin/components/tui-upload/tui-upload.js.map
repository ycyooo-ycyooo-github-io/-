{"version":3,"sources":["webpack:///E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue?c8a6","webpack:///E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue?14e5","webpack:///E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue?2473","webpack:///E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue?0136","webpack:///E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue","webpack:///E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue?4967","webpack:///E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue?298f"],"names":["name","props","value","type","Array","default","forbidDel","Boolean","forbidAdd","serverUrl","String","limit","Number","fileKeyName","data","imageList","statusArr","created","item","push","computed","isShowAdd","isShow","length","methods","reUpLoad","index","$set","change","uploadImage","then","catch","status","indexOf","$emit","imgArr","chooseImage","uni","count","success","e","imageArr","console","log","i","tempFilePaths","len","showToast","title","icon","path","start","j","url","Promise","resolve","reject","uploadFile","header","formData","filePath","res","statusCode","d","JSON","parse","replace","code","slice","fail","delImage","splice","previewImage","current","loop","urls"],"mappings":"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","file":"components/tui-upload/tui-upload.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tui-upload.vue?vue&type=template&id=31767bf5&\"\nvar renderjs\nimport script from \"./tui-upload.vue?vue&type=script&lang=js&\"\nexport * from \"./tui-upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tui-upload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('31767bf5')) {\n      api.createRecord('31767bf5', component.options)\n    } else {\n      api.reload('31767bf5', component.options)\n    }\n    module.hot.accept(\"./tui-upload.vue?vue&type=template&id=31767bf5&\", function () {\n      api.rerender('31767bf5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/项萍/熙美小程序12/components/tui-upload/tui-upload.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tui-upload.vue?vue&type=template&id=31767bf5&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tui-upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tui-upload.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'tuiUpload',\n\tprops: {\n\t\t//初始化图片路径\n\t\tvalue: {\n\t\t\ttype: Array,\n\t\t\tdefault () {\n\t\t\t\treturn []\n\t\t\t}\n\t\t},\n\t\t//禁用删除\n\t\tforbidDel: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t//禁用添加\n\t\tforbidAdd: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t//服务器地址\n\t\tserverUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\t//限制数\n\t\tlimit: {\n\t\t\ttype: Number,\n\t\t\tdefault: 3\n\t\t},\n\t\t//项目名，默认为 file\n\t\tfileKeyName: {\n\t\t\ttype: String,\n\t\t\tdefault: \"file\"\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t//图片地址\n\t\t\timageList: [],\n\t\t\t//上传状态：1-上传成功 2-上传中 3-上传失败\n\t\t\tstatusArr: []\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.imageList = [...this.value];\n\t\tfor (let item of this.imageList) {\n\t\t\tthis.statusArr.push(\"1\")\n\t\t}\n\t},\n\tcomputed: {\n\t\tisShowAdd() {\n\t\t\tlet isShow = true;\n\t\t\tif (this.forbidAdd || (this.limit && this.imageList.length >= this.limit)) {\n\t\t\t\tisShow = false;\n\t\t\t}\n\t\t\treturn isShow\n\t\t}\n\t},\n\tmethods: {\n\t\t// 重新上传\n\t\treUpLoad(index) {\n\t\t\tthis.$set(this.statusArr, index, \"2\")\n\t\t\tthis.change()\n\t\t\tthis.uploadImage(index, this.imageList[index]).then(() => {\n\t\t\t\tthis.change()\n\t\t\t}).catch(() => {\n\t\t\t\tthis.change()\n\t\t\t})\n\t\t},\n\t\tchange() {\n\t\t\tlet status = ~this.statusArr.indexOf(\"2\") ? 2 : 1\n\t\t\tif (status != 2 && ~this.statusArr.indexOf(\"3\")) {\n\t\t\t\t// 上传失败\n\t\t\t\tstatus = 3\n\t\t\t}\n\t\t\tthis.$emit('complete', {\n\t\t\t\tstatus: status,\n\t\t\t\timgArr: this.imageList\n\t\t\t})\n\t\t},\n\t\tchooseImage() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: this.limit - this.imageList.length,\n\t\t\t\tsuccess: (e)=> {\n\t\t\t\t\tlet imageArr = [];\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tfor (let i = 0; i < e.tempFilePaths.length; i++) {\n\t\t\t\t\t\tlet len = this.imageList.length;\n\t\t\t\t\t\tif (len >= this.limit) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: `最多可上传${this.limit}张图片`,\n\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet path = e.tempFilePaths[i]\n\t\t\t\t\t\timageArr.push(path)\n\t\t\t\t\t\tthis.imageList.push(path)\n\t\t\t\t\t\tthis.statusArr.push(\"2\")\n\t\t\t\t\t}\n\t\t\t\t\tthis.change()\n\n\t\t\t\t\tlet start = this.imageList.length - imageArr.length\n\t\t\t\t\tfor (let j = 0; j < imageArr.length; j++) {\n\t\t\t\t\t\tlet index = start + j\n\t\t\t\t\t\t//服务器地址\n\t\t\t\t\t\tif (this.serverUrl) {\n\t\t\t\t\t\t\tthis.uploadImage(index, imageArr[j]).then(() => {\n\t\t\t\t\t\t\t\tthis.change()\n\t\t\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\t\t\tthis.change()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//无服务器地址则直接返回成功\n\t\t\t\t\t\t\tthis.$set(this.statusArr, index, \"1\")\n\t\t\t\t\t\t\tthis.change()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tuploadImage(index, url) {\n\t\t\tconsole.log(index, url)\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.uploadFile({\n\t\t\t\t\turl: this.serverUrl,\n\t\t\t\t\tname: this.fileKeyName,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t//设置请求头\n\t\t\t\t\t},\n\t\t\t\t\tformData: {},\n\t\t\t\t\tfilePath: url,\n\t\t\t\t\tsuccess:(res)=> {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\t\t//返回结果 此处需要按接口实际返回进行修改\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet d = JSON.parse(res.data.replace(/\\ufeff/g, \"\") || \"{}\");\n\t\t\t\t\t\t\tconsole.log(d);\n\t\t\t\t\t\t\t//判断code，以实际接口规范判断\n\t\t\t\t\t\t\tif (d.code  == 2000) {\n\t\t\t\t\t\t\t\t// 上传成功 d.url 为上传后图片地址，以实际接口返回为准\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet url=d.data\n\t\t\t\t\t\t\t\turl='https' + url.slice(4, url.length);\n\t\t\t\t\t\t\t\tconsole.log(url)\n\t\t\t\t\t\t\t\turl && (this.imageList[index] = url)\n\t\t\t\t\t\t\t\tthis.$set(this.statusArr, index, url ? \"1\" : \"3\")\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 上传失败\n\t\t\t\t\t\t\t\tthis.$set(this.statusArr, index, \"3\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(index)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$set(this.statusArr, index, \"3\")\n\t\t\t\t\t\t\treject(index)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (res)=> {\n\t\t\t\t\t\tthis.$set(this.statusArr, index, \"3\")\n\t\t\t\t\t\treject(index)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t},\n\t\tdelImage(index) {\n\t\t\tthis.imageList.splice(index, 1)\n\t\t\tthis.statusArr.splice(index, 1)\n\t\t\tthis.$emit(\"remove\", {\n\t\t\t\tindex: index\n\t\t\t})\n\t\t\tthis.change()\n\t\t},\n\t\tpreviewImage(index) {\n\t\t\tif (!this.imageList.length) return;\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: this.imageList[index],\n\t\t\t\tloop: true,\n\t\t\t\turls: this.imageList\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tui-upload.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tui-upload.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}